dynfilter_odom:
  ros__parameters:
    "dyn_obj/points_topic": "/livox/lidar"  # 输入点云话题
    "dyn_obj/odom_topic": "/aft_mapped_to_init"  # 里程计话题
    "dyn_obj/frame_id": "camera_init"  # 输出坐标系
    "dyn_obj/use_odom": false  # 是否使用里程计
    "dyn_obj/static_pos": [0.0, 0.0, 0.0]  # 静止位姿平移[x,y,z]
    "dyn_obj/static_quat": [1.0, 0.0, 0.0, 0.0]  # 静止位姿四元数[w,x,y,z]
    "dyn_obj/pc_topic": "/livox/lidar"  # 可视化点云话题
    "dyn_obj/use_livox_custom": false  # 是否使用Livox CustomMsg

    "dyn_obj/dataset": 4  # 数据集/传感器类型ID
    "dyn_obj/buffer_delay": 0.1  # 缓冲延迟(s)
    "dyn_obj/buffer_size": 250000  # 缓冲点数上限
    "dyn_obj/points_num_perframe": 20000  # 单帧点数估计
    "dyn_obj/depth_map_dur": 0.2  # 深度图持续时间(s)
    "dyn_obj/max_depth_map_num": 5  # 深度图数量上限
    "dyn_obj/max_pixel_points": 45  # 单像素最大点数
    "dyn_obj/frame_dur": 0.1  # 帧周期(s)
    "dyn_obj/self_x_f": 0.0  # 自车遮挡前向范围(m)
    "dyn_obj/self_x_b": 0.0  # 自车遮挡后向范围(m)
    "dyn_obj/self_y_l": 0.0  # 自车遮挡左向范围(m)
    "dyn_obj/self_y_r": 0.0  # 自车遮挡右向范围(m)
    "dyn_obj/blind_dis": 0.05  # 盲区距离(m)
    "dyn_obj/fov_up": 35.2  # 视场上限(度)
    "dyn_obj/fov_down": -35.2  # 视场下限(度)
    "dyn_obj/fov_left": 35.2  # 视场左限(度)
    "dyn_obj/fov_right": -35.2  # 视场右限(度)
    "dyn_obj/fov_cut": 0.0  # 视场裁剪角(度)

    "dyn_obj/depth_thr1": 0.4  # Case1深度阈值(m)
    "dyn_obj/enter_min_thr1": 0.4  # Case1进入最小阈值(m)
    "dyn_obj/enter_max_thr1": 0.4  # Case1进入最大阈值(m)
    "dyn_obj/map_cons_depth_thr1": 0.4  # Case1地图一致深度阈值(m)
    "dyn_obj/map_cons_hor_thr1": 0.04  # Case1地图一致水平角阈值
    "dyn_obj/map_cons_ver_thr1": 0.04  # Case1地图一致垂直角阈值
    "dyn_obj/map_cons_hor_dis1": 0.25  # Case1地图一致水平距离(m)
    "dyn_obj/map_cons_ver_dis1": 0.5  # Case1地图一致垂直距离(m)
    "dyn_obj/depth_cons_depth_thr1": 0.4  # Case1深度一致阈值(m)
    "dyn_obj/depth_cons_depth_max_thr1": 0.8  # Case1深度一致最大阈值(m)
    "dyn_obj/depth_cons_hor_thr1": 0.05  # Case1深度一致水平角阈值
    "dyn_obj/depth_cons_ver_thr1": 0.05  # Case1深度一致垂直角阈值
    "dyn_obj/enlarge_z_thr1": -2.5  # Case1高度扩展(m)
    "dyn_obj/enlarge_angle": 2.0  # Case1角度扩展(度)
    "dyn_obj/enlarge_depth": 3.0  # Case1深度扩展(m)
    "dyn_obj/occluded_map_thr1": 3  # Case1遮挡图数量阈值
    "dyn_obj/case1_interp_en": true  # Case1插值开关

    "dyn_obj/v_min_thr2": 0.5  # Case2最小速度阈值
    "dyn_obj/acc_thr2": 7.0  # Case2加速度阈值
    "dyn_obj/map_cons_depth_thr2": 0.3  # Case2地图一致深度阈值(m)
    "dyn_obj/map_cons_hor_thr2": 0.02  # Case2地图一致水平角阈值
    "dyn_obj/map_cons_ver_thr2": 0.06  # Case2地图一致垂直角阈值
    "dyn_obj/occ_depth_thr2": 0.3  # Case2遮挡深度阈值(m)
    "dyn_obj/occ_hor_thr2": 0.02  # Case2遮挡水平角阈值
    "dyn_obj/occ_ver_thr2": 0.06  # Case2遮挡垂直角阈值
    "dyn_obj/depth_cons_depth_thr2": 0.1  # Case2深度一致阈值(m)
    "dyn_obj/depth_cons_depth_max_thr2": 0.5  # Case2深度一致最大阈值(m)
    "dyn_obj/depth_cons_hor_thr2": 0.03  # Case2深度一致水平角阈值
    "dyn_obj/depth_cons_ver_thr2": 0.06  # Case2深度一致垂直角阈值
    "dyn_obj/occluded_times_thr2": 3  # Case2遮挡次数阈值
    "dyn_obj/k_depth2": 0.005  # Case2深度比例系数
    "dyn_obj/case2_interp_en": false  # Case2插值开关

    "dyn_obj/v_min_thr3": 0.5  # Case3最小速度阈值
    "dyn_obj/acc_thr3": 15.0  # Case3加速度阈值
    "dyn_obj/map_cons_depth_thr3": 0.1  # Case3地图一致深度阈值(m)
    "dyn_obj/map_cons_hor_thr3": 0.03  # Case3地图一致水平角阈值
    "dyn_obj/map_cons_ver_thr3": 0.03  # Case3地图一致垂直角阈值
    "dyn_obj/occ_depth_thr3": 0.15  # Case3遮挡深度阈值(m)
    "dyn_obj/occ_hor_thr3": 0.03  # Case3遮挡水平角阈值
    "dyn_obj/occ_ver_thr3": 0.03  # Case3遮挡垂直角阈值
    "dyn_obj/depth_cons_depth_thr3": 0.3  # Case3深度一致阈值(m)
    "dyn_obj/depth_cons_depth_max_thr3": 1.0  # Case3深度一致最大阈值(m)
    "dyn_obj/depth_cons_hor_thr3": 0.03  # Case3深度一致水平角阈值
    "dyn_obj/depth_cons_ver_thr3": 0.03  # Case3深度一致垂直角阈值
    "dyn_obj/occluded_times_thr3": 3  # Case3遮挡次数阈值
    "dyn_obj/case3_interp_en": false  # Case3插值开关

    "dyn_obj/interp_hor_thr": 0.03  # 插值水平角邻域
    "dyn_obj/interp_ver_thr": 0.03  # 插值垂直角邻域
    "dyn_obj/interp_thr1": 0.5  # 插值阈值1
    "dyn_obj/interp_static_max": 10.0  # 插值静态最大深度(m)
    "dyn_obj/interp_start_depth1": 10.0  # 插值起始深度(m)
    "dyn_obj/interp_kp1": 0.1  # 插值比例系数
    "dyn_obj/interp_kd1": 0.5  # 插值微分系数
    "dyn_obj/interp_bg": 0.8  # 插值背景系数
    "dyn_obj/interp_thr2": 0.25  # 插值阈值2
    "dyn_obj/interp_thr3": 0.05  # 插值阈值3

    "dyn_obj/point_index": -1  # 单点调试索引(-1全部)
    "dyn_obj/cluster_coupled": true  # 聚类与检测耦合
    "dyn_obj/cluster_future": true  # 启用未来聚类
    "dyn_obj/cluster_extend_pixel": 3  # 聚类像素扩展
    "dyn_obj/cluster_min_pixel_number": 1  # 聚类最小像素数
    "dyn_obj/cluster_thrustable_thresold": 0.1  # 聚类阈值(m)
    "dyn_obj/cluster_Voxel_revolusion": 0.5  # 聚类体素大小(m)
    "dyn_obj/cluster_async": false  # 聚类异步流水线
    "dyn_obj/cluster_queue_size": 2  # 异步队列长度
    
    "dyn_obj/dyn_points_stable_en": true  # 动态点稳定化开关
    "dyn_obj/dyn_points_accu_limit": 3  # 动态点累积帧数
    "dyn_obj/dyn_points_voxel": 0.2  # 动态点体素滤波(m)

    "dyn_obj/track_enable": true  # 目标级追踪开关
    "dyn_obj/track_min_hits": 2  # 目标最小连续帧数
    "dyn_obj/track_max_age": 5  # 目标最大丢失帧数
    "dyn_obj/track_min_points": 20  # 目标最小点数
    "dyn_obj/track_gate": 2  # 追踪门控距离(m)
    "dyn_obj/aabb_alpha": 0.5  # AABB 平滑系数

    "dyn_obj/dyn_filter_en": true  # 启用动态过滤输出

    "dyn_obj/ver_resolution_max": 0.04  # 最大垂直分辨率(度)
    "dyn_obj/hor_resolution_max": 0.025  # 最大水平分辨率(度)
